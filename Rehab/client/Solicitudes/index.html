<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel='stylesheet' href='/css/bootstrap.css' />
    <link rel='stylesheet' href='/css/site.css' />
    <script src='/js/jquery.js'></script>
    <script src='/js/bootstrap.js'></script>
    <script src='/js/knockout.js'></script>
    <script src='/js/require.js'></script>
    <script src='/js/curl.js'></script>
    <script src='/js/knockout-amd-helpers.js'></script>


</head>
<body>
    <div class='page-header'>



        <div class="center-block" style="width: 200px; height: 53px;">

            <h2><span class="">Solicitudes</span></h2>

        </div>



    </div>


    <table class="table table-striped" data-bind="" id="gridSolicitudesNoGestionadas">
        <thead>
            <tr>
                <th class="filter-select text-center" data-bind="">NHC</th>
                <th class="filter-select text-center" data-bind="">duracion</th>
                <th class="filter-select text-center" data-bind="">Nº tratamientos</th>
                <th class="filter-select text-center" data-bind="">Urgencia</th>
                <th class="filter-select text-center" data-bind="">Fecha</th>
                <th class="filter-select text-center">
                    <div class='btn-group' data-bind="">
                        <button type='button' class='btn btn-primary' data-bind="click:$root.showModal">Nuevo Tratamiento</button>
                    </div>
                </th>


            </tr>
        </thead>
        <tbody data-bind="foreach:solicitudes">
            <tr data-bind="">


                <td style="vertical-align: middle;font-size:14px;" class="text-center" data-bind="text: paciente.nhc "></td>
                <td style="vertical-align: middle;font-size:14px;" class="text-center" data-bind="text: duracion "></td>
                <td style="vertical-align: middle;font-size:14px;" class="" data-bind="text: tratamientos().length">duracion</td>
                <td style="vertical-align: middle;font-size:14px;" class="" data-bind="text: urgencia"></td>
                <td style="vertical-align: middle;font-size:14px;" class="" data-bind="text: fecha"></td>

            </tr>
          

        </tbody>
    </table>


    <!--div data-bind="template: { name: 'Solicitud', with: solicitudModal }"></div>-->
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document" >
            <div class="modal-content" data-bind="with:solicitudModal">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Nuevo Soliciud</h4>
                </div>
                <div class="modal-body">
                    <div class="row" >
                         <div class="col-md-3">
                            <div class="input-group" >
                                <span class="input-group-addon" id="basic-addon2">NHC</span>
                                <input type="text" class="form-control"  placeholder="codigo" data-bind="textInput:paciente.nhc">
                            </div>
                        </div>
                         <div class="col-md-3">
                            <div class="input-group" >
                                <span class="input-group-addon" id="basic-addon2">Nasi</span>
                                <input type="text" class="form-control"  placeholder="codigo" data-bind="textInput:paciente.nasi">
                            </div>
                        </div>
                         <div class="col-md-6">
                            <div class="input-group" >
                                <span class="input-group-addon" id="basic-addon2">Nombre</span>
                                <input type="text" class="form-control"  placeholder="codigo" data-bind="textInput:paciente.nombe">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="input-group" >
                                <span class="input-group-addon" id="basic-addon2">Duracion</span>
                                <input type="text" class="form-control"  placeholder="codigo" data-bind="textInput:duracion">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon2">urgencia</span>
                                <input type="text" class="form-control" placeholder="Nombre" data-bind="textInput:fecha">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon2">Tratamiento:</span>
                                <select class="form-control" data-bind="options:$root.tratamientos,
                                                                        optionsText: 'nombre',
                                                                        optionsValue: '_id',
                                                                        value:tratamientos">
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-bind="click: function(){add()}">Save changes</button>
                </div>
            </div>
        </div>
    </div>

</body>
<script src='/js/ko/Model/Paciente.js'></script>
<script src='/js/ko/Model/Tratamiento.js'></script>
<script src='/js/ko/Model/Solicitud.js'></script>
<script src='/js/ko/VM/SolicitudVM.js'></script>

<script>
     $('body').on('hidden.bs.popover', function (e) {
        $(e.target).data("bs.popover").inState.click = false;
    });
</script>

</html>